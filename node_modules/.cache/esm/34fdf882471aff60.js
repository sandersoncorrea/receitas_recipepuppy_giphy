let getReceitas,getGif;_471‍.x([["default",()=>_471‍.o]]);_471‍.w("../Services/RecipePuppey",[["default",["getReceitas"],function(v){getReceitas=v}]]);_471‍.w("../Services/Giphy",[["default",["getGif"],function(v){getGif=v}]]);


class ReceitasController {
  async index(req, res) {
    const ingredientes = req.params.i;

    const recipes = await getReceitas(ingredientes);

    for (const recipe of recipes.results) {
      const gif = await getGif(recipe.title);
      recipe.gif = gif.data[0].bitly_gif_url;
    }

    return res.status(200).json({
      keywords: ingredientes.split(","),
      recipes: recipes.results.map((r, index) => {
        return {
          title: r.title,
          ingredients: r.ingredients,
          link: r.href,
          gif: r.gif,
        };
      }),
    });
  }
}

_471‍.d(new ReceitasController());
